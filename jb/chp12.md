# Chp.12 : 창발성

## **[ 창발적 설계 ]**

설계를 단순하게 만드는 규칙 4가지 (중요도 순서로 내려감) :

1. 모든 테스트를 실행한다
2. 중복을 없앤다
3. 프로그래머 의도를 표현한다
4. 클래스와 메소드 수를 최소로 줄인다

## **[ 단순한 설계 규칙 1 : 모든 테스트를 실행하라 ]**

- 설계는 의도한 대로 돌아가는 시스템을 내놓아야 한다.
    - “시스템” == 모든 테스트 케이스를 항상 통과하는 “테스트가 가능한 검증된 시스템”
- [지속적으로 테스트 케이스 생성]

  → 여러 도구(원칙들, 추상화, 인터페이스 등)를 사용

  → [낮은 결합도 & 높은 응집력 달성]

  → [객체 지향 방법론의 목표 달성 & 설계 품질 향상]


## **[ 단순한 설계 규칙 2~4 : 리팩터링 ]**

- 테스트 케이스를 모두 작성했다면, 코드와 클래스를 정리(리팩터링)한다. 이 때, 테스트 코드가 있으므로 우리는 코드를 추가/정리하면서 시스템이 깨질까 걱정할 필요가 없다!
- 리팩터링 단계 : 중복 제거하고, 프로그래머의 의도를 표현하고, 클래스/메소드 수를 최소로 줄이는 단계.

  → S/W 설계 품질을 높일 수 있는 기법들을 적용 (응집도 높이고, 결합도 낮추고, 관심사 분리 기법 등)


## **[ 중복을 없애라 ]**

- 중복 : 추가 작업, 추가 위험, 불필요한 복잡도
- 비슷한 코드(구현 중복)는 더 비슷하게 고쳐주면 리팩터링이 쉬워짐

  ex) isEmpty 메서드 안에 size 메서드를 구현하여 중복 제거

    ```java
    /* 중복 제거 전 */
    
    int size() // 개수를 반환
    boolean isEmpty() {} // bool 값을 반환
    
    // ------------------------------------------------
    
    /* 중복 제거 후 */
    
    boolean isEmpty(){
    	return 0 == size();
    }
    ```


- TEMPLATE METHOD 패턴 : 고차원 중복을 제거하는 기법

## **[ 표현해라 ]**

- 나중에 코드를 유지보수할 사람은 코드를 지금 당장 짜는 사람만큼 문제를 깊이 이해하지 못한다. 즉, 코드는 개발자의 의도를 분명히 표현해야 이해하기도 쉬워지고, 결함이 줄고, 유지보수 비용이 줄어든다.
- 표현력 높이는 방법들
    1. **좋은 이름 선택**

       : 클래스, 함수의 기능과 관련 있도록 설정

    2. **클래스, 함수의 크기를 최소화**

       : 크기가 작을수록 이름 짓기도 쉽고, 구현하기도 쉽고, 이해하기도 쉽다

    3. **표준 명칭 사용**

       : 다른 개발자가 클래스 설계 의도를 파악하기 쉬워짐

    4. **단위 테스트 케이스를 꼼꼼히 작성**

       : 테스트 케이스 = 예제로 보여주는 문서 (클래스 기능을 알 수 있음)


## **[ 클래스와 메서드 수를 최소로 줄여라 ]**

- 함수와 클래스의 크기를 작게 유지하면서 시스템 크기도 작게 유지하자.
- 클래스와 함수 수를 줄이는 작업보다, 테스트 케이스 생성 / 중복 제거 / 의도를 표현하는 작업이 더 중요함!